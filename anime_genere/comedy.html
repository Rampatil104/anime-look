<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Comedy Anime — OtakuSpot</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{--muted:#9aa6b2;--accent:#6ef1e0}
    *{box-sizing:border-box}
    body{margin:0;font-family:"Poppins",sans-serif;background:linear-gradient(180deg,#05060a,#0b0f17);color:#e6eef6;padding:2rem}
    .container{max-width:1200px;margin:0 auto}
    header{display:flex;align-items:center;gap:1rem;margin-bottom:1.2rem}
    header h1{margin:0;font-size:1.6rem}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:1rem}
    .card{position:relative;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;padding:.6rem;border:1px solid rgba(255,255,255,0.03);cursor:pointer;transition:transform .18s ease,box-shadow .18s}
    .card:hover{transform:translateY(-6px);box-shadow:0 12px 28px rgba(2,6,23,0.6)}
    .thumb{height:220px;border-radius:10px;overflow:hidden;margin-bottom:.6rem;background:#111;background-size:cover;background-position:center}
    .meta h4{margin:0;font-size:1rem;word-break:break-word}
    .meta p{margin:.35rem 0 0;color:var(--muted);font-size:.9rem}

    /* Hover info bubble */
    .info-bubble{
      position:absolute;
      left:8px;
      top:8px;
      background:rgba(2,6,23,0.9);
      border:1px solid rgba(255,255,255,0.04);
      padding:.6rem;
      border-radius:8px;
      width:calc(100% - 16px);
      color:var(--muted);
      font-size:.85rem;
      display:none;
      z-index:20;
    }
    .card.show-bubble .info-bubble{display:block}
    .info-bubble strong{color:var(--accent);display:block;margin-bottom:.25rem}

    /* Modal */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,0.7);display:flex;align-items:center;justify-content:center;padding:2rem;z-index:120;visibility:hidden;opacity:0;transition:opacity .16s,visibility .16s}
    .modal.active{visibility:visible;opacity:1}
    .modal-content{width:min(900px,95%);max-height:86vh;background:#071018;border-radius:12px;padding:1rem;overflow:auto;border:1px solid rgba(255,255,255,0.04)}
    .modal-grid{display:grid;grid-template-columns:220px 1fr;gap:1rem;align-items:start}
    .modal-poster{height:320px;background-size:cover;background-position:center;border-radius:8px;border:1px solid rgba(255,255,255,0.03)}
    .modal-close{float:right;font-size:1.4rem;color:var(--muted);cursor:pointer;background:none;border:0}
    .modal h2{margin:0 0 .25rem}
    .meta-list{color:var(--muted);font-size:.95rem;margin:0 0 .8rem}
    .synopsis{color:#dfeaf0;line-height:1.45}
    .btn-row{display:flex;gap:.6rem;margin-top:1rem}
    .btn{padding:.5rem .8rem;border-radius:8px;border:0;font-weight:700;cursor:pointer}
    .btn.primary{background:linear-gradient(90deg,var(--accent),#4b8bff);color:#021}
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}

    @media (max-width:720px){
      .modal-grid{grid-template-columns:1fr;grid-auto-rows:auto}
      .modal-poster{height:240px}
      .thumb{height:160px}
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Comedy Anime</h1>
      <div style="margin-left:auto;color:var(--muted)">30 shows</div>
    </header>

    <section>
      <div class="grid">

        <!-- 1 -->
        <div class="card" data-title="Gintama">
          <div class="info-bubble"><strong>Gintama</strong><span class="ib-line">Release: 2006 • Episodes: 300+</span></div>
          <div class="thumb" style="background-image:url('images/gintama.jpg')"></div>
          <div class="meta"><h4>Gintama</h4><p class="muted">Comedy • Shonen</p></div>
        </div>

        <!-- 2 -->
        <div class="card" data-title="Konosuba">
          <div class="info-bubble"><strong>Konosuba</strong><span class="ib-line">Release: 2016 • Episodes: 20+</span></div>
          <div class="thumb" style="background-image:url('images/konosuba.jpg')"></div>
          <div class="meta"><h4>Konosuba</h4><p class="muted">Comedy • Isekai</p></div>
        </div>

        <!-- 3 -->
        <div class="card" data-title="The Disastrous Life of Saiki K">
          <div class="info-bubble"><strong>The Disastrous Life of Saiki K</strong><span class="ib-line">Release: 2016 • Episodes: 120+</span></div>
          <div class="thumb" style="background-image:url('images/the-disastrous-life-of-saiki-k.jpg')"></div>
          <div class="meta"><h4>The Disastrous Life of Saiki K</h4><p class="muted">Comedy • Slice of Life</p></div>
        </div>

        <!-- 4 -->
        <div class="card" data-title="Nichijou">
          <div class="info-bubble"><strong>Nichijou</strong><span class="ib-line">Release: 2011 • Episodes: 26</span></div>
          <div class="thumb" style="background-image:url('images/nichijou.jpg')"></div>
          <div class="meta"><h4>Nichijou</h4><p class="muted">Comedy • Slice of Life</p></div>
        </div>

        <!-- 5 -->
        <div class="card" data-title="Grand Blue">
          <div class="info-bubble"><strong>Grand Blue</strong><span class="ib-line">Release: 2018 • Episodes: 12</span></div>
          <div class="thumb" style="background-image:url('images/grand-blue.jpg')"></div>
          <div class="meta"><h4>Grand Blue</h4><p class="muted">Comedy • Slice of Life</p></div>
        </div>

        <!-- 6 -->
        <div class="card" data-title="One Punch Man">
          <div class="info-bubble"><strong>One Punch Man</strong><span class="ib-line">Release: 2015 • Episodes: 24+</span></div>
          <div class="thumb" style="background-image:url('images/one-punch-man.jpg')"></div>
          <div class="meta"><h4>One Punch Man</h4><p class="muted">Comedy • Action</p></div>
        </div>

        <!-- 7 -->
        <div class="card" data-title="Monthly Girls' Nozaki-kun">
          <div class="info-bubble"><strong>Monthly Girls' Nozaki-kun</strong><span class="ib-line">Release: 2014 • Episodes: 12</span></div>
          <div class="thumb" style="background-image:url('images/monthly-girls-nozaki-kun.jpg')"></div>
          <div class="meta"><h4>Monthly Girls' Nozaki-kun</h4><p class="muted">Comedy • Romance</p></div>
        </div>

        <!-- 8 -->
        <div class="card" data-title="Kaguya-sama: Love is War">
          <div class="info-bubble"><strong>Kaguya-sama: Love is War</strong><span class="ib-line">Release: 2019 • Episodes: 36+</span></div>
          <div class="thumb" style="background-image:url('images/kaguya-sama-love-is-war.jpg')"></div>
          <div class="meta"><h4>Kaguya-sama: Love is War</h4><p class="muted">Comedy • Romance</p></div>
        </div>

        <!-- 9 -->
        <div class="card" data-title="Prison School">
          <div class="info-bubble"><strong>Prison School</strong><span class="ib-line">Release: 2015 • Episodes: 12</span></div>
          <div class="thumb" style="background-image:url('images/prison-school.jpg')"></div>
          <div class="meta"><h4>Prison School</h4><p class="muted">Comedy • Ecchi</p></div>
        </div>

        <!-- 10 -->
        <div class="card" data-title="Hinamatsuri">
          <div class="info-bubble"><strong>Hinamatsuri</strong><span class="ib-line">Release: 2018 • Episodes: 12</span></div>
          <div class="thumb" style="background-image:url('images/hinamatsuri.jpg')"></div>
          <div class="meta"><h4>Hinamatsuri</h4><p class="muted">Comedy • Supernatural</p></div>
        </div>

        <!-- 11 -->
        <div class="card" data-title="Asobi Asobase">
          <div class="info-bubble"><strong>Asobi Asobase</strong><span class="ib-line">Release: 2017 • Episodes: 12</span></div>
          <div class="thumb" style="background-image:url('images/asobi-asobase.jpg')"></div>
          <div class="meta"><h4>Asobi Asobase</h4><p class="muted">Comedy • School</p></div>
        </div>

        <!-- 12 -->
        <div class="card" data-title="Daily Lives of High School Boys">
          <div class="info-bubble"><strong>Daily Lives of High School Boys</strong><span class="ib-line">Release: 2012 • Episodes: 12</span></div>
          <div class="thumb" style="background-image:url('images/daily-lives-of-high-school-boys.jpg')"></div>
          <div class="meta"><h4>Daily Lives of High School Boys</h4><p class="muted">Comedy • School</p></div>
        </div>

        <!-- 13 -->
        <div class="card" data-title="SKET Dance">
          <div class="info-bubble"><strong>SKET Dance</strong><span class="ib-line">Release: 2011 • Episodes: 77</span></div>
          <div class="thumb" style="background-image:url('images/sket-dance.jpg')"></div>
          <div class="meta"><h4>SKET Dance</h4><p class="muted">Comedy • School</p></div>
        </div>

        <!-- 14 -->
        <div class="card" data-title="Mob Psycho 100">
          <div class="info-bubble"><strong>Mob Psycho 100</strong><span class="ib-line">Release: 2016 • Episodes: 25+</span></div>
          <div class="thumb" style="background-image:url('images/mob-psycho-100.jpg')"></div>
          <div class="meta"><h4>Mob Psycho 100</h4><p class="muted">Comedy • Action</p></div>
        </div>

        <!-- 15 -->
        <div class="card" data-title="Ouran High School Host Club">
          <div class="info-bubble"><strong>Ouran High School Host Club</strong><span class="ib-line">Release: 2006 • Episodes: 26</span></div>
          <div class="thumb" style="background-image:url('images/ouran-high-school-host-club.jpg')"></div>
          <div class="meta"><h4>Ouran High School Host Club</h4><p class="muted">Comedy • Romance</p></div>
        </div>

        <!-- 16 -->
        <div class="card" data-title="The Devil is a Part-Timer!">
          <div class="info-bubble"><strong>The Devil is a Part-Timer!</strong><span class="ib-line">Release: 2013 • Episodes: 13</span></div>
          <div class="thumb" style="background-image:url('images/the-devil-is-a-part-timer.jpg')"></div>
          <div class="meta"><h4>The Devil is a Part-Timer!</h4><p class="muted">Comedy • Fantasy</p></div>
        </div>

        <!-- 17 -->
        <div class="card" data-title="Oreimo">
          <div class="info-bubble"><strong>Oreimo</strong><span class="ib-line">Release: 2010 • Episodes: 24+</span></div>
          <div class="thumb" style="background-image:url('images/oreimo.jpg')"></div>
          <div class="meta"><h4>Oreimo</h4><p class="muted">Comedy • Slice of Life</p></div>
        </div>

        <!-- 18 -->
        <div class="card" data-title="Gabriel DropOut">
          <div class="info-bubble"><strong>Gabriel DropOut</strong><span class="ib-line">Release: 2017 • Episodes: 12</span></div>
          <div class="thumb" style="background-image:url('images/gabriel-dropout.jpg')"></div>
          <div class="meta"><h4>Gabriel DropOut</h4><p class="muted">Comedy • Slice of Life</p></div>
        </div>

        <!-- 19 -->
        <div class="card" data-title="Haven’t You Heard? I’m Sakamoto">
          <div class="info-bubble"><strong>Haven’t You Heard? I’m Sakamoto</strong><span class="ib-line">Release: 2016 • Episodes: 12</span></div>
          <div class="thumb" style="background-image:url('images/havent-you-heard-im-sakamoto.jpg')"></div>
          <div class="meta"><h4>Haven’t You Heard? I’m Sakamoto</h4><p class="muted">Comedy • School</p></div>
        </div>

        <!-- 20 -->
        <div class="card" data-title="School Rumble">
          <div class="info-bubble"><strong>School Rumble</strong><span class="ib-line">Release: 2004 • Episodes: 52</span></div>
          <div class="thumb" style="background-image:url('images/school-rumble.jpg')"></div>
          <div class="meta"><h4>School Rumble</h4><p class="muted">Comedy • School</p></div>
        </div>

        <!-- 21 -->
        <div class="card" data-title="Baka and Test">
          <div class="info-bubble"><strong>Baka and Test</strong><span class="ib-line">Release: 2010 • Episodes: 26</span></div>
          <div class="thumb" style="background-image:url('images/baka-and-test.jpg')"></div>
          <div class="meta"><h4>Baka and Test</h4><p class="muted">Comedy • School</p></div>
        </div>

        <!-- 22 -->
        <div class="card" data-title="Blend S">
          <div class="info-bubble"><strong>Blend S</strong><span class="ib-line">Release: 2017 • Episodes: 12</span></div>
          <div class="thumb" style="background-image:url('images/blend-s.jpg')"></div>
          <div class="meta"><h4>Blend S</h4><p class="muted">Comedy • Slice of Life</p></div>
        </div>

        <!-- 23 -->
        <div class="card" data-title="Seto no Hanayome">
          <div class="info-bubble"><strong>Seto no Hanayome</strong><span class="ib-line">Release: 2007 • Episodes: 26</span></div>
          <div class="thumb" style="background-image:url('images/seto-no-hanayome.jpg')"></div>
          <div class="meta"><h4>Seto no Hanayome (My Bride is a Mermaid)</h4><p class="muted">Comedy • Romance</p></div>
        </div>

        <!-- 24 -->
        <div class="card" data-title="Miss Kobayashi's Dragon Maid">
          <div class="info-bubble"><strong>Miss Kobayashi's Dragon Maid</strong><span class="ib-line">Release: 2017 • Episodes: 13</span></div>
          <div class="thumb" style="background-image:url('images/miss-kobayashis-dragon-maid.jpg')"></div>
          <div class="meta"><h4>Miss Kobayashi’s Dragon Maid</h4><p class="muted">Comedy • Slice of Life</p></div>
        </div>

        <!-- 25 -->
        <div class="card" data-title="My Dress-Up Darling">
          <div class="info-bubble"><strong>My Dress-Up Darling</strong><span class="ib-line">Release: 2022 • Episodes: 12</span></div>
          <div class="thumb" style="background-image:url('images/my-dress-up-darling.jpg')"></div>
          <div class="meta"><h4>My Dress-Up Darling</h4><p class="muted">Comedy • Romance</p></div>
        </div>

        <!-- 26 -->
        <div class="card" data-title="Working!!">
          <div class="info-bubble"><strong>Working!! (Wagnaria)</strong><span class="ib-line">Release: 2010 • Episodes: 36+</span></div>
          <div class="thumb" style="background-image:url('images/working-wagnaria.jpg')"></div>
          <div class="meta"><h4>Working!! (Wagnaria)</h4><p class="muted">Comedy • Slice of Life</p></div>
        </div>

        <!-- 27 -->
        <div class="card" data-title="Barakamon">
          <div class="info-bubble"><strong>Barakamon</strong><span class="ib-line">Release: 2014 • Episodes: 12</span></div>
          <div class="thumb" style="background-image:url('images/barakamon.jpg')"></div>
          <div class="meta"><h4>Barakamon</h4><p class="muted">Comedy • Slice of Life</p></div>
        </div>

        <!-- 28 -->
        <div class="card" data-title="Welcome to Demon School! Iruma-kun">
          <div class="info-bubble"><strong>Welcome to Demon School! Iruma-kun</strong><span class="ib-line">Release: 2019 • Episodes: 50+</span></div>
          <div class="thumb" style="background-image:url('images/welcome-to-demon-school-iruma-kun.jpg')"></div>
          <div class="meta"><h4>Welcome to Demon School! Iruma-kun</h4><p class="muted">Comedy • Fantasy</p></div>
        </div>

        <!-- 29 -->
        <div class="card" data-title="Is This a Zombie?">
          <div class="info-bubble"><strong>Is This a Zombie?</strong><span class="ib-line">Release: 2011 • Episodes: 12</span></div>
          <div class="thumb" style="background-image:url('images/is-this-a-zombie.jpg')"></div>
          <div class="meta"><h4>Is This a Zombie?</h4><p class="muted">Comedy • Supernatural</p></div>
        </div>

        <!-- 30 -->
        <div class="card" data-title="Beelzebub">
          <div class="info-bubble"><strong>Beelzebub</strong><span class="ib-line">Release: 2011 • Episodes: 60+</span></div>
          <div class="thumb" style="background-image:url('images/beelzebub.jpg')"></div>
          <div class="meta"><h4>Beelzebub</h4><p class="muted">Comedy • Shonen</p></div>
        </div>

      </div>
    </section>

  
  </div>

  <!-- Modal markup -->
  <div id="modal" class="modal" role="dialog" aria-hidden="true">
    <div class="modal-content" role="document">
      <button id="closeModal" class="modal-close" aria-label="Close">✕</button>
      <div class="modal-grid">
        <div id="modalPoster" class="modal-poster" style="background-image:url('')"></div>
        <div>
          <h2 id="modalTitle">Title</h2>
          <div class="meta-list" id="modalMeta">Release • Episodes • Studio</div>
          <div class="synopsis" id="modalSynopsis">Full synopsis will appear here. This text is a short paragraph describing the anime.</div>

          <div class="btn-row">
            <button id="searchBtn" class="btn ghost">Search web</button>
            <button id="closeBtn" class="btn primary">Close</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // --- Auto info database for comedy anime (basic facts + synopsis)
    const animeInfo = {
      "Gintama": {
        year: "2006",
        episodes: "300+",
        studio: "Sunrise",
        synopsis: "A gintoki-led odd-jobs crew gets into absurd samurai-sized comedy and drama."
      },
      "Konosuba": {
        year: "2016",
        episodes: "20+",
        studio: "Studio Deen",
        synopsis: "A hapless hero and his imperfect party bumble through hilarious isekai misadventures."
      },
      "The Disastrous Life of Saiki K": {
        year: "2016",
        episodes: "120+",
        studio: "J.C.Staff",
        synopsis: "An overpowered psychic tries to hide his powers while dealing with eccentric classmates."
      },
      "Nichijou": {
        year: "2011",
        episodes: "26",
        studio: "Kyoto Animation",
        synopsis: "Everyday school life escalates into absurd, surreal comedy in short, punchy episodes."
      },
      "Grand Blue": {
        year: "2018",
        episodes: "12",
        studio: "Zero-G",
        synopsis: "College students mix diving and relentless alcohol-fueled antics with heart."
      },
      "One Punch Man": {
        year: "2015",
        episodes: "24+",
        studio: "Madhouse / J.C.Staff",
        synopsis: "A hero who ends fights with one punch struggles with boredom and fame."
      },
      "Monthly Girls' Nozaki-kun": {
        year: "2014",
        episodes: "12",
        studio: "Doga Kobo",
        synopsis: "A high-school romance turns into comedic chaos when one student is secretly a mangaka."
      },
      "Kaguya-sama: Love is War": {
        year: "2019",
        episodes: "36+",
        studio: "A-1 Pictures",
        synopsis: "Two prodigies wage psychological warfare to force the other to confess first."
      },
      "Prison School": {
        year: "2015",
        episodes: "12",
        studio: "J.C.Staff",
        synopsis: "A wildly outrageous comedy about boys trapped in a strict girls school environment."
      },
      "Hinamatsuri": {
        year: "2018",
        episodes: "12",
        studio: "Feel.",
        synopsis: "A yakuza's life turns chaotic and tender when a powerful but childish esper appears."
      },
      "Asobi Asobase": {
        year: "2017",
        episodes: "12",
        studio: "Lerche",
        synopsis: "Three girls' seemingly ordinary games devolve into wildly absurd sketches."
      },
      "Daily Lives of High School Boys": {
        year: "2012",
        episodes: "12",
        studio: "Sunrise",
        synopsis: "A comic take on teenage male friendship and everyday school absurdities."
      },
      "SKET Dance": {
        year: "2011",
        episodes: "77",
        studio: "TMS Entertainment",
        synopsis: "A school club solves problems with humor and surprisingly warm character moments."
      },
      "Mob Psycho 100": {
        year: "2016",
        episodes: "25+",
        studio: "Bones",
        synopsis: "A powerful young psychic tries to live a normal life while chaos follows him."
      },
      "Ouran High School Host Club": {
        year: "2006",
        episodes: "26",
        studio: "Bones",
        synopsis: "A scholarship girl becomes entangled with a school's charming host club and comedy ensues."
      },
      "The Devil is a Part-Timer!": {
        year: "2013",
        episodes: "13",
        studio: "White Fox",
        synopsis: "A demon lord adjusts to life working part-time in modern Tokyo with hilarious results."
      },
      "Oreimo": {
        year: "2010",
        episodes: "24+",
        studio: "AIC Build",
        synopsis: "Sibling dynamics and otaku culture collide in a comedy-drama about acceptance."
      },
      "Gabriel DropOut": {
        year: "2017",
        episodes: "12",
        studio: "Doga Kobo",
        synopsis: "An angel's descent into lazy otaku life sparks sweet, silly comedy."
      },
      "Haven’t You Heard? I’m Sakamoto": {
        year: "2016",
        episodes: "12",
        studio: "Studio Deen",
        synopsis: "The coolest student in school navigates bizarre situations with effortless style."
      },
      "School Rumble": {
        year: "2004",
        episodes: "52",
        studio: "Gonzo",
        synopsis: "A classic slapstick romcom about misunderstandings and over-the-top characters."
      },
      "Baka and Test": {
        year: "2010",
        episodes: "26",
        studio: "Silver Link",
        synopsis: "A goofy school battle using summoned avatars and ridiculous academic rules."
      },
      "Blend S": {
        year: "2017",
        episodes: "12",
        studio: "A-1 Pictures",
        synopsis: "A café where staff adopt personas for customers results in awkward, funny scenes."
      },
      "Seto no Hanayome": {
        year: "2007",
        episodes: "26",
        studio: "Gonzo",
        synopsis: "A boy's life is upended after a mermaid saves him and hilarity follows."
      },
      "Miss Kobayashi's Dragon Maid": {
        year: "2017",
        episodes: "13",
        studio: "Kyoto Animation",
        synopsis: "A dragon becomes a maid and domestic misadventures bring heartfelt laughs."
      },
      "My Dress-Up Darling": {
        year: "2022",
        episodes: "12",
        studio: "CloverWorks",
        synopsis: "A budding cosplayer and a shy craftsman discover creativity and romance."
      },
      "Working!! (Wagnaria)": {
        year: "2010",
        episodes: "36+",
        studio: "A-1 Pictures",
        synopsis: "Restaurant staff with odd personalities make for a never-ending workplace comedy."
      },
      "Barakamon": {
        year: "2014",
        episodes: "12",
        studio: "SILVER LINK.",
        synopsis: "A calligrapher finds inspiration (and chaos) when he moves to a small island."
      },
      "Welcome to Demon School! Iruma-kun": {
        year: "2019",
        episodes: "50+",
        studio: "Bandai Namco Pictures",
        synopsis: "A human boy navigates demon school life with good humor and surprising friendships."
      },
      "Is This a Zombie?": {
        year: "2011",
        episodes: "12",
        studio: "Studio Deen",
        synopsis: "A bizarre mix of undead action and slapstick comedy when a boy is revived as a zombie."
      },
      "Beelzebub": {
        year: "2011",
        episodes: "60+",
        studio: "Pierrot",
        synopsis: "A delinquent becomes caregiver to a demon baby and comedy ensues from the chaos."
      }
    };

    // --- UI behavior: hover bubble + modal ---
    const modal = document.getElementById('modal');
    const closeModalBtn = document.getElementById('closeModal');
    const closeBtn = document.getElementById('closeBtn');
    const searchBtn = document.getElementById('searchBtn');
    const modalPoster = document.getElementById('modalPoster');
    const modalTitle = document.getElementById('modalTitle');
    const modalMeta = document.getElementById('modalMeta');
    const modalSynopsis = document.getElementById('modalSynopsis');

    // helper to fill modal from info
    function openModalFrom(title, posterUrl) {
      const info = animeInfo[title] || {};
      modalPoster.style.backgroundImage = `url('${posterUrl}')`;
      modalTitle.textContent = title;
      const year = info.year || '—';
      const eps = info.episodes || '—';
      const studio = info.studio || '—';
      modalMeta.textContent = `Release: ${year} • Episodes: ${eps} • Studio: ${studio}`;
      modalSynopsis.textContent = info.synopsis || 'Synopsis not available.';
      modal.classList.add('active');
      modal.setAttribute('aria-hidden','false');

      // search button action
      searchBtn.onclick = () => {
        window.open('https://www.google.com/search?q=' + encodeURIComponent(title), '_blank');
      };
      closeBtn.onclick = closeModal;
      closeModalBtn.onclick = closeModal;
    }

    function closeModal(){
      modal.classList.remove('active');
      modal.setAttribute('aria-hidden','true');
    }

    // set hover + click handlers for all cards
    document.querySelectorAll('.card').forEach(card => {
      const title = card.dataset.title || card.querySelector('.meta h4').textContent.trim();
      const thumb = card.querySelector('.thumb');
      const bg = thumb ? getComputedStyle(thumb).backgroundImage : '';
      // normalize poster url from style: url("...") => extract path
      const posterUrl = (bg && bg.startsWith('url')) ? bg.slice(4,-1).replace(/["']/g,'') : '';

      // show bubble on mouseenter
      card.addEventListener('mouseenter', () => {
        // populate bubble lines if needed
        const bubble = card.querySelector('.info-bubble');
        const info = animeInfo[title] || {};
        const year = info.year || '—';
        const eps = info.episodes || '—';
        bubble.querySelector('.ib-line').textContent = `Release: ${year} • Episodes: ${eps}`;
        card.classList.add('show-bubble');
      });
      card.addEventListener('mouseleave', () => {
        card.classList.remove('show-bubble');
      });

      // click opens modal
      card.addEventListener('click', (e) => {
        // open modal with poster (fallback to placeholder)
        openModalFrom(title, posterUrl || 'images/placeholder.jpg');
      });
    });

    // close modal when clicking outside content
    modal.addEventListener('click', (e)=>{
      if(e.target === modal) closeModal();
    });
  </script>
</body>
</html>
